//
//  {{ prefix }}{{ module_info.name }}{{ module_info.file_name }}
//  {{ module_info.project_name }}
//
//  Created by {{ developer.name }} on {{ date }}.
//  Copyright {{ year }} {{ developer.company }}. All rights reserved.
//

import UIKit

class {{ prefix }}{{ module_info.name }}ViewController: UIViewController {
	
	//MARK: - IBProperties
    
    @IBOutlet var collectionView: {{ prefix }}{{ module_info.name }}CollectionView! {
        didSet {
            self.collectionView.register(UINib(nibName: "{{ prefix }}{{ module_info.name }}CollectionViewCell", bundle: nil), forCellWithReuseIdentifier: "{{ prefix }}{{ module_info.name }}CollectionViewCellIdentifier")
        }
    }
    
    //MARK: - Properties
    
    var viewModel: {{ prefix }}{{ module_info.name }}ViewModelProtocol?

    //MARK: - Life Cycle
    
    override func viewDidLoad() {
        super.viewDidLoad()
        self.mainSetup()
    }

    //MARK: - Functions
    
    private func mainSetup() {
        self.addObservers()
    }
    
    private func addObservers() {
        self.viewModel?.dataArray.addObserver { (objectArray, nil) in
            self.collectionView.dataArray = objectArray
            self.collectionView.reloadData()
        }
    }
}
